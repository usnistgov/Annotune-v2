<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document Review and Dashboard</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        /* Set background color for the entire page */
        body {
            background-color: #f0f4f8;
            font-family: 'Helvetica Neue', sans-serif;
        }

        /* Centering the form and making it responsive */
        .form-container {
            min-width: 300px;
            max-width: 800px;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            margin: 0 auto;
        }

        /* Form section style */
        .content-box {
            margin: 0 auto;
            width: 100%;
        }

        /* Form header */
        h3 {
            font-size: 1.5rem;
            color: #007bff;
            font-weight: 700;
            text-align: center;
            margin-bottom: 20px;
        }

        /* Form instructions */
        .instructions {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 15px;
            line-height: 1.4;
            text-align: justify;
        }

        /* Form labels */
        label {
            font-weight: 600;
            color: #555;
            font-size: 0.9rem;
        }

        /* Form input and textarea */
        textarea {
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 8px;
            font-size: 0.9rem;
            width: 100%;
        }

        textarea:focus {
            border-color: #007bff;
            outline: none;
        }

        /* Slider adjustments */
        .form-range {
            width: 100%;
            background: linear-gradient(90deg, #007bff 0%, #007bff var(--value, 50%), #ddd var(--value, 50%), #ddd 100%);
        }

        /* Button styling */
        .btn-primary {
            background-color: #007bff;
            border-color: #007bff;
            padding: 10px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
            transition: background-color 0.3s, transform 0.3s;
        }

        /* Disabled button style */
        .btn-primary:disabled {
            background-color: #cccccc;
            border-color: #cccccc;
            cursor: not-allowed;
        }

        /* Hover effects for button */
        .btn-primary:hover:enabled {
            background-color: #0056b3;
            transform: translateY(-2px);
        }

        /* Responsive text area adjustments */
        @media (max-width: 576px) {
            textarea {
                font-size: 0.8rem;
                padding: 6px;
            }
            .btn-primary {
                width: 100%;
            }
        }

        /* Form margin for vertical centering */
        .form-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        /* Adjust spacing between elements */
        .form-group {
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="form-wrapper">
        <div class="form-container">
            <div class="content-box">
                <h3>Assessment</h3>
                <div id="pageName" hidden>pretest</div>
                <div id="pageStartTime" hidden>{{time}}</div>

                <div class="instructions">
                    Your community has frequently faced natural disasters, such as floods and hurricanes, and extreme weather events like heatwaves and severe storms. You believe a proactive planning process, similar to those used for economic development, is essential for increasing resilience, sustainability, and climate adaptation. Imagine you are advocating for this change to your city council. Currently, the community employs organized planning for economic and infrastructure challenges, which involves identifying issues, setting goals, and developing action plans. 
                    You propose adopting a similar approach to enhance the community's resilience—ensuring better preparedness and response to these specific challenges—and to improve sustainability through energy-saving measures, waste reduction, and climate adaptation strategies to address changing environmental conditions.

                </div>

                <form method="post">
                    {% csrf_token %}
                    
                    <!-- Question 1 -->
                    <div class="form-group">
                        <label for="question1" class="font-weight-bold">Question 1a: What is your current understanding of the process for planning community resilience and sustainability? Include any key themes or strategies you consider important.</label>
                        <textarea name="question1" class="form-control" id="question1" rows="4" placeholder="Enter your response..."></textarea>
                    </div>
                    
                    <!-- Slider for Confidence Level -->
                    <div class="form-group mb-3">
                        <label for="customRange" class="font-weight-bold">Question 1b: Please rate your level of confidence in your response.</label>
                        <div class="d-flex justify-content-between">
                            <span>1 (Low)</span>
                            <span>10 (High)</span>
                        </div>
                        <div class="slider-container position-relative">
                            <input type="range" class="form-range" min="1" max="10" step="1" id="customRange" value="5" name="likert">
                        </div>
                    </div>
                    
                    <!-- Question 2 -->
                    <div class="form-group">
                        <label for="question2" class="font-weight-bold">Question 2a: What are some common methods communities might use to share plans with their stakeholders? </label>
                        <textarea name="question2" class="form-control" id="question2" rows="4" placeholder="Enter your response..."></textarea>
                    </div>
                    
                    <!-- Slider for Confidence Level -->
                    <div class="form-group mb-3">
                        <label for="customRange2" class="font-weight-bold">Question 2b: Please rate your level of confidence in your response.</label>
                        <div class="d-flex justify-content-between">
                            <span>1 (Low)</span>
                            <span>10 (High)</span>
                        </div>
                        <div class="slider-container position-relative">
                            <input type="range" class="form-range" min="1" max="10" step="1" id="customRange2" value="5" name="likert2">
                        </div>
                    </div>
                    
                    <!-- Submit Button -->
                    <div class="text-center mt-3">
                        <button type="submit" class="btn btn-primary" id="submitBtn" disabled>Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Get form elements
        const question1 = document.getElementById('question1');
        const question2 = document.getElementById('question2');
        const submitBtn = document.getElementById('submitBtn');

        // Function to check if textareas have input
        function validateForm() {
            const isTextareaFilled = question1.value.trim() !== '' && question2.value.trim() !== '';
            submitBtn.disabled = !isTextareaFilled;
        }

        // Add event listeners for textarea input
        question1.addEventListener('input', validateForm);
        question2.addEventListener('input', validateForm);
    </script>
</body>
</html>
